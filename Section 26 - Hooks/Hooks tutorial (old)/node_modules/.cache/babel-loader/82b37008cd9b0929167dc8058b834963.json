{"ast":null,"code":"import _slicedToArray from \"/home/eliad91/Programming/JavaScript/React/React Course - Max Schwartzmuller/Section 26 - Hooks/hooks/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/eliad91/Programming/JavaScript/React/React Course - Max Schwartzmuller/Section 26 - Hooks/hooks/src/components/Todo.js\";\nimport React, { useState, useEffect, useReducer } from 'react';\nimport axios from 'axios';\n\nconst Todo = () => {\n  // const [todos, setTodos] = useState([]);\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        input = _useState2[0],\n        setInput = _useState2[1];\n\n  const todoListReducer = (state, action) => {\n    switch (action.type) {\n      case 'ADD':\n        return action.payload;\n\n      case 'REMOVE':\n        return state.filter(item => item.id !== action.payload);\n\n      default:\n        return state;\n    }\n  };\n\n  const _useReducer = useReducer(todoListReducer, []),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        todoList = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  const handleNewTodoItem = async () => {\n    if (input !== '') try {\n      setInput('');\n      await axios.post('https://react-hooks-intro-940a4.firebaseio.com/todos.json', {\n        todo: input\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {}, [todoList]);\n\n  const handleMouseMove = e => {\n    console.log(e.clientX, e.clientY);\n  };\n\n  useEffect(() => {\n    document.addEventListener('mousemove', handleMouseMove);\n    return () => {\n      console.log('Cleanup');\n      document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, []);\n\n  const handleInputChange = e => setInput(e.target.value);\n\n  const handleAddButtonClick = () => handleNewTodoItem();\n\n  const handleInputEnterPress = e => e.key === 'Enter' ? handleNewTodoItem() : null;\n\n  const handleClearButtonClick = async () => {\n    await axios.delete('https://react-hooks-intro-940a4.firebaseio.com/todos.json');\n  };\n\n  console.log(todoList);\n  return React.createElement(React.Fragment, null, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Todo\",\n    value: input,\n    onChange: e => handleInputChange(e),\n    onKeyPress: e => handleInputEnterPress(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleAddButtonClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Add\"), React.createElement(\"button\", {\n    onClick: handleClearButtonClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Clear\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, todoList.map(todo => React.createElement(\"li\", {\n    key: todo.id,\n    onClick: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, todo.name))));\n};\n\nexport default Todo;","map":{"version":3,"sources":["/home/eliad91/Programming/JavaScript/React/React Course - Max Schwartzmuller/Section 26 - Hooks/hooks/src/components/Todo.js"],"names":["React","useState","useEffect","useReducer","axios","Todo","input","setInput","todoListReducer","state","action","type","payload","filter","item","id","todoList","dispatch","handleNewTodoItem","post","todo","error","console","log","handleMouseMove","e","clientX","clientY","document","addEventListener","removeEventListener","handleInputChange","target","value","handleAddButtonClick","handleInputEnterPress","key","handleClearButtonClick","delete","map","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\nimport axios from 'axios';\n\nconst Todo = () => {\n\t// const [todos, setTodos] = useState([]);\n\tconst [input, setInput] = useState('');\n\n\tconst todoListReducer = (state, action) => {\n\t\tswitch (action.type) {\n\t\t\tcase 'ADD':\n\t\t\t\treturn action.payload;\n\t\t\tcase 'REMOVE':\n\t\t\t\treturn state.filter(item => item.id !== action.payload);\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\tconst [todoList, dispatch] = useReducer(todoListReducer, []);\n\n\tconst handleNewTodoItem = async () => {\n\t\tif (input !== '')\n\t\t\ttry {\n\t\t\t\tsetInput('');\n\t\t\t\tawait axios.post(\n\t\t\t\t\t'https://react-hooks-intro-940a4.firebaseio.com/todos.json',\n\t\t\t\t\t{ todo: input }\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\n\t}, [todoList]);\n\n\tconst handleMouseMove = e => {\n\t\tconsole.log(e.clientX, e.clientY);\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('mousemove', handleMouseMove);\n\t\treturn () => {\n\t\t\tconsole.log('Cleanup');\n\t\t\tdocument.removeEventListener('mousemove', handleMouseMove);\n\t\t};\n\t}, []);\n\n\tconst handleInputChange = e => setInput(e.target.value);\n\n\tconst handleAddButtonClick = () => handleNewTodoItem();\n\n\tconst handleInputEnterPress = e =>\n\t\te.key === 'Enter' ? handleNewTodoItem() : null;\n\n\tconst handleClearButtonClick = async () => {\n\t\tawait axios.delete(\n\t\t\t'https://react-hooks-intro-940a4.firebaseio.com/todos.json'\n\t\t);\n\t};\n\tconsole.log(todoList);\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Todo\"\n\t\t\t\tvalue={input}\n\t\t\t\tonChange={e => handleInputChange(e)}\n\t\t\t\tonKeyPress={e => handleInputEnterPress(e)}\n\t\t\t/>\n\t\t\t<button type=\"button\" onClick={handleAddButtonClick}>\n\t\t\t\tAdd\n\t\t\t</button>\n\t\t\t<button onClick={handleClearButtonClick}>Clear</button>\n\t\t\t<ul>\n\t\t\t\t{todoList.map(todo => (\n\t\t\t\t\t<li key={todo.id} onClick>\n\t\t\t\t\t\t{todo.name}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</>\n\t);\n};\nexport default Todo;\n"]},"metadata":{},"sourceType":"module"}