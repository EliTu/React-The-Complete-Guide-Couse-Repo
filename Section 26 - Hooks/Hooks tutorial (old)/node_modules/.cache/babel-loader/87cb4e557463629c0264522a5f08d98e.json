{"ast":null,"code":"import _slicedToArray from \"/home/eliad91/Programming/JavaScript/React/React Course - Max Schwartzmuller/Section 26 - Hooks/hooks/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/eliad91/Programming/JavaScript/React/React Course - Max Schwartzmuller/Section 26 - Hooks/hooks/src/components/Todo.js\";\nimport React, { useState, useEffect, useMemo } from 'react';\nimport axios from 'axios';\nimport { useFormValidation } from '../hooks/useFormValidation';\n\nconst Todo = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        todos = _useState2[0],\n        setTodos = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        input = _useState4[0],\n        setInput = _useState4[1];\n\n  const _useFormValidation = useFormValidation(),\n        value = _useFormValidation.value,\n        onChange = _useFormValidation.onChange,\n        isValid = _useFormValidation.isValid;\n\n  const handleNewTodoItem = async () => {\n    if (value !== '') try {\n      setInput('');\n      await axios.post('https://react-hooks-intro-940a4.firebaseio.com/todos.json', {\n        todo: value\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const getTodoData = async () => {\n      try {\n        const todoData = await axios.get('https://react-hooks-intro-940a4.firebaseio.com/todos.json');\n        const todoItems = todoData.data;\n        let newTodoList = [];\n\n        for (let item in todoItems) {\n          newTodoList.push({\n            id: item,\n            name: todoItems[item].todo\n          });\n        }\n\n        setTodos(newTodoList);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getTodoData();\n  }, [todos]);\n\n  const handleMouseMove = e => {\n    console.log(e.clientX, e.clientY);\n  };\n\n  useEffect(() => {\n    document.addEventListener('mousemove', handleMouseMove);\n    return () => {\n      console.log('Cleanup');\n      document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, []);\n\n  const handleAddButtonClick = () => handleNewTodoItem();\n\n  const handleInputEnterPress = e => e.key === 'Enter' ? handleNewTodoItem() : null;\n\n  const handleClearButtonClick = async () => {\n    await axios.delete(\"https://react-hooks-intro-940a4.firebaseio.com/todos.json\");\n  };\n\n  const handleTodoItemClick = async id => {\n    await axios.delete(\"https://react-hooks-intro-940a4.firebaseio.com/todos/\".concat(id, \".json\"));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Todo\",\n    value: value,\n    style: {\n      backgroundColor: !isValid ? 'indigo' : null\n    },\n    onChange: onChange,\n    onKeyPress: e => handleInputEnterPress(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleAddButtonClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Add\"), React.createElement(\"button\", {\n    onClick: handleClearButtonClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Clear\"), useMemo(() => React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, todos.map(todo => React.createElement(\"li\", {\n    key: todo.id,\n    onClick: id => handleTodoItemClick(todo.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, todo.name))), [todos]));\n};\n\nexport default Todo;","map":{"version":3,"sources":["/home/eliad91/Programming/JavaScript/React/React Course - Max Schwartzmuller/Section 26 - Hooks/hooks/src/components/Todo.js"],"names":["React","useState","useEffect","useMemo","axios","useFormValidation","Todo","todos","setTodos","input","setInput","value","onChange","isValid","handleNewTodoItem","post","todo","error","console","log","getTodoData","todoData","get","todoItems","data","newTodoList","item","push","id","name","handleMouseMove","e","clientX","clientY","document","addEventListener","removeEventListener","handleAddButtonClick","handleInputEnterPress","key","handleClearButtonClick","delete","handleTodoItemClick","backgroundColor","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport axios from 'axios';\nimport { useFormValidation } from '../hooks/useFormValidation';\n\nconst Todo = () => {\n\tconst [todos, setTodos] = useState([]);\n\tconst [input, setInput] = useState('');\n\tconst { value, onChange, isValid } = useFormValidation();\n\n\tconst handleNewTodoItem = async () => {\n\t\tif (value !== '')\n\t\t\ttry {\n\t\t\t\tsetInput('');\n\t\t\t\tawait axios.post(\n\t\t\t\t\t'https://react-hooks-intro-940a4.firebaseio.com/todos.json',\n\t\t\t\t\t{ todo: value }\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst getTodoData = async () => {\n\t\t\ttry {\n\t\t\t\tconst todoData = await axios.get(\n\t\t\t\t\t'https://react-hooks-intro-940a4.firebaseio.com/todos.json'\n\t\t\t\t);\n\t\t\t\tconst todoItems = todoData.data;\n\t\t\t\tlet newTodoList = [];\n\t\t\t\tfor (let item in todoItems) {\n\t\t\t\t\tnewTodoList.push({ id: item, name: todoItems[item].todo });\n\t\t\t\t}\n\t\t\t\tsetTodos(newTodoList);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t};\n\t\tgetTodoData();\n\t}, [todos]);\n\n\tconst handleMouseMove = e => {\n\t\tconsole.log(e.clientX, e.clientY);\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('mousemove', handleMouseMove);\n\t\treturn () => {\n\t\t\tconsole.log('Cleanup');\n\t\t\tdocument.removeEventListener('mousemove', handleMouseMove);\n\t\t};\n\t}, []);\n\n\tconst handleAddButtonClick = () => handleNewTodoItem();\n\n\tconst handleInputEnterPress = e =>\n\t\te.key === 'Enter' ? handleNewTodoItem() : null;\n\n\tconst handleClearButtonClick = async () => {\n\t\tawait axios.delete(\n\t\t\t`https://react-hooks-intro-940a4.firebaseio.com/todos.json`\n\t\t);\n\t};\n\n\tconst handleTodoItemClick = async id => {\n\t\tawait axios.delete(\n\t\t\t`https://react-hooks-intro-940a4.firebaseio.com/todos/${id}.json`\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Todo\"\n\t\t\t\tvalue={value}\n\t\t\t\tstyle={{ backgroundColor: !isValid ? 'indigo' : null }}\n\t\t\t\tonChange={onChange}\n\t\t\t\tonKeyPress={e => handleInputEnterPress(e)}\n\t\t\t/>\n\t\t\t<button type=\"button\" onClick={handleAddButtonClick}>\n\t\t\t\tAdd\n\t\t\t</button>\n\t\t\t<button onClick={handleClearButtonClick}>Clear</button>\n\t\t\t{useMemo(\n\t\t\t\t() => (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{todos.map(todo => (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={todo.id}\n\t\t\t\t\t\t\t\tonClick={id => handleTodoItemClick(todo.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{todo.name}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t),\n\t\t\t\t[todos]\n\t\t\t)}\n\t\t</>\n\t);\n};\nexport default Todo;\n"]},"metadata":{},"sourceType":"module"}